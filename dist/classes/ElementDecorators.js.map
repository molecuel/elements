{"version":3,"sources":["classes/ElementDecorators.ts"],"names":[],"mappings":"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","file":"ElementDecorators.js","sourcesContent":["export class Decorators {\r\n  public static get NOT_FOR_POPULATION(): string { return 'NotForPopulation'; }\r\n  public static get INDEX_MAPPING(): string { return 'Mapping'; }\r\n  public static get USE_PERSISTANCE_TABLE(): string { return 'UsePersistanceTable'; }\r\n  public static get USE_ELASTIC_TYPE(): string { return 'UseElasticType'; }\r\n}\r\n\r\nexport const METADATAKEY = 'mlcl_elements:validators';\r\n\r\nexport function Mapping() {\r\n  return function(target: Object, propertyName: string) {\r\n    let metadata = Reflect.getMetadata(METADATAKEY, target);\r\n    if (!metadata) {\r\n      metadata = [];\r\n    }\r\n    metadata.push({\r\n      type: Decorators.INDEX_MAPPING,\r\n      property: propertyName\r\n    });\r\n    Reflect.defineMetadata(METADATAKEY, metadata, target);\r\n  };\r\n}\r\n\r\n\r\nexport function NotForPopulation() {\r\n  return function(target: Object, propertyName: string) {\r\n    let metadata = Reflect.getMetadata(METADATAKEY, target);\r\n    if (!metadata) {\r\n      metadata = [];\r\n    }\r\n    metadata.push({\r\n      type: Decorators.NOT_FOR_POPULATION,\r\n      property: propertyName\r\n    });\r\n    Reflect.defineMetadata(METADATAKEY, metadata, target);\r\n  };\r\n}\r\n\r\nexport function UsePersistanceTable(collection: string) {\r\n  return function(target: Object) {\r\n    let input: any = target;\r\n    let className: string;\r\n    if ('prototype' in input) {\r\n      className = input.prototype.constructor.name;\r\n    }\r\n    else {\r\n      className = input.constructor.name;\r\n    }\r\n    let metadata = Reflect.getMetadata(METADATAKEY, target);\r\n    if (!metadata) {\r\n      metadata = [];\r\n    }\r\n    metadata.push({\r\n      type: Decorators.USE_PERSISTANCE_TABLE,\r\n      property: className,\r\n      value: collection\r\n    });\r\n    Reflect.defineMetadata(METADATAKEY, metadata, target);\r\n  };\r\n}\r\n\r\nexport function UseElasticType(type: string) {\r\n  return function(target: Object) {\r\n    let input: any = target;\r\n    let className: string;\r\n    if ('prototype' in input) {\r\n      className = input.prototype.constructor.name;\r\n    }\r\n    else {\r\n      className = input.constructor.name;\r\n    }\r\n    let metadata = Reflect.getMetadata(METADATAKEY, target);\r\n    if (!metadata) {\r\n      metadata = [];\r\n    }\r\n    metadata.push({\r\n      type: Decorators.USE_ELASTIC_TYPE,\r\n      property: className,\r\n      value: type\r\n    });\r\n    Reflect.defineMetadata(METADATAKEY, metadata, target);\r\n  };\r\n}\r\n"]}